# Линтер api гайда от Райффайзен Банка с использованием Llm

## Мотивация

С недавних пор Райффайзен Банк переходит на api first подход в разработке.
Для этого активно используется open api формат для описывания контрактов.
Был выпущен [api гайд](https://github.com/Raiffeisen-DGTL/rest-api-guide),
который регулирует оформление open api файлов

Проект реализует линтер для этого гайда,
который работает с помощью Llm

> Почему бы не копировать спецификацию в чат и анализировать ответ?

Во-первых, это неудобно, потому что надо постоянно переключаться между спецификацией и чатом

Во-вторых, иногда спецификации довольно большие и не влазят в контекст Llm

В-третьих, чат нельзя встроить в ide для подсветки ошибок и предложения исправлений

> Почему бы не использовать нормальные инструменты, такие как vacuum?

[Vacuum](https://github.com/daveshanley/vacuum) это очень мощный инструмент, 
однако для его кастомизации необходимо разбираться в yaml, jsonpath, встроенных функциях
и в языке go. Написание новых правил занимает много времени. Он не предназначен для
валидации без правил, в то время как данный проект потенциально может
просить Llm придумывать новые правила и оценивать логику построения open api контрактов.
Также vacuum не предусматривает автоматических исправлений

Мою работу по реализации линтера Райффайзен api гайда с помощью vacuum можно найти 
[здесь](https://github.com/Marat-Tim/Raiffeisen-VacuumExtensions)

> Почему бы не встроить общение с Llm как кастомную функцию в vacuum?

В теории можно было бы, но мне больше нравится java. 
Она более объектно-ориентированна и в ней удобнее писать в стиле 
[elegant objects](https://www.elegantobjects.org/).
Также потенциально ее будет легче встраивать в intellij idea 
и в gradle скрипты сборки

## Модули проекта

[core](./core) - пакет с основными интерфейсами без реализации. 
Нужен, чтобы можно было распараллеливать работу над реализацией линтера и
инструмента, использующего линтер(cli, плагин для intellij idea, gradle плагин и т.д.)

[llm-impl](./llm-impl) - пакет с основной реализацией линтера.
Архитектура и примеры использования описаны в [README](./llm-impl/README.md)

[integration-tests](./integration-tests) - пакет в котором собраны скрипты для анализа качества
определенных параметров и промпта. Можете использовать для тестирования своих промптов
